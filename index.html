<style>
    /* ... (Garde tes styles précédents) ... */

    /* CETTE PARTIE EST MAGIQUE POUR LE MOBILE */
    @media (max-width: 1000px) {
        #left-col, #right-col { 
            display: none !important; /* Cache les logs et le top 15 sur tel */
        }
        #game-col { 
            width: 100vw; 
            height: 100vh; 
        }
        canvas { 
            width: 100vw; 
            height: 100vh; 
            border: none; 
            border-radius: 0; 
        }
    }
</style>

<script>
    // ... (Config Firebase) ...

    // --- SYSTÈME TACTILE AMÉLIORÉ ---
    canvas.addEventListener("touchstart", e => {
        e.preventDefault(); // Empêche le téléphone de défiler pendant que tu joues
        const r = canvas.getBoundingClientRect();
        const touch = e.touches[0];
        const tx = (touch.clientX - r.left) / r.width * 600;

        if(state === "MENU" || state === "GAMEOVER") {
            if(pseudo.length >= 3 || state === "GAMEOVER") {
                state = "PLAYING"; 
                if(state === "MENU") pushLog(pseudo, "MOBILE JOIN");
                // Reset si Game Over
                score = 0; level = 1; obstacles = []; ballX = 300;
            }
        } else {
            // Si on touche à gauche du milieu du canvas
            if(tx < 300) { 
                keys["ArrowLeft"] = true; 
                keys["ArrowRight"] = false; 
            } else { 
                keys["ArrowRight"] = true; 
                keys["ArrowLeft"] = false; 
            }
        }
    }, {passive: false});

    canvas.addEventListener("touchend", e => {
        keys["ArrowLeft"] = false;
        keys["ArrowRight"] = false;
    });

    // Optionnel : Ajoute le déplacement en glissant le doigt
    canvas.addEventListener("touchmove", e => {
        e.preventDefault();
        const r = canvas.getBoundingClientRect();
        const touch = e.touches[0];
        const tx = (touch.clientX - r.left) / r.width * 600;
        ballX = tx; // La balle suit exactement ton doigt
    }, {passive: false});
</script>
